/* phonestyles.css
   ─────────────────────────────────────────────────────────────────────────────
   High-effort phone-layout overrides for iPhone landscape (max-device-width: 812px).
   Adds safe-area support, polished FABs, smooth transitions, shadows, and responsive tweaks.
*/

/* ─── GLOBAL VARIABLES & SAFE-AREA ──────────────────────────────────────────── */
:root {
    /* Safe-area inset for bottom home indicator */
    --safe-bottom: env(safe-area-inset-bottom, 1rem);
  
    /* Layout spacing */
    --phone-gap:               1rem;
    --phone-gap-sm:            0.75rem;
  
    /* Font sizes */
    --phone-title-size:        2.5rem;
    --phone-control-font:      1.2rem;
    --phone-header-font:       1.3rem;
    --phone-status-font:       0.9rem;
  
    /* Map sizing */
    --phone-map-width:         80vw;
    --phone-map-height:        40vh;
    --phone-map-offset-x:      5vw;
    --phone-map-offset-y:      calc(5vh + var(--safe-bottom));
  
    /* FAB sizing */
    --fab-size:                3.5rem;
    --fab-padding:             0.75rem;
    --fab-font:                1rem;
    --fab-shadow:              0 4px 12px rgba(0,0,0,0.3);
  }
  
  /* ─── APPLY ONLY ON PHONE LANDSCAPE ────────────────────────────────────────── */
  @media only screen 
    and (max-device-width: 812px) 
    and (orientation: landscape) {
  
    /* ─── BODY SAFE-AREA PADDING ─────────────────────────────────────────────── */
    body {
      padding-bottom: var(--safe-bottom) !important;
    }
  
    /* ─── MENU RE-FLOW & STYLING ─────────────────────────────────────────────── */
    .menu-screen {
      flex-direction: row !important;
      justify-content: space-between !important;
      align-items: center !important;
      padding: var(--phone-gap) !important;
      gap: var(--phone-gap) !important;
      background: rgba(255,255,255,0.8) !important;
      backdrop-filter: saturate(180%) blur(10px);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .menu-title {
      font-size: var(--phone-title-size) !important;
      color: #333 !important;
      margin: 0 !important;
      flex: 1 0 auto !important;
      text-align: center !important;
    }
    .menu-controls {
      flex-direction: column !important;
      gap: var(--phone-gap-sm) !important;
      align-items: center !important;
    }
    .menu-controls select {
      width: auto !important;
      min-width: 8rem !important;
    }
  
    /* ─── FAB BUTTON STYLING ─────────────────────────────────────────────────── */
    #phone-mode-btn,
    #guess-btn {
      position: fixed !important;
      width: var(--fab-size) !important;
      height: var(--fab-size) !important;
      padding: var(--fab-padding) !important;
      font-size: var(--fab-font) !important;
      border-radius: 50% !important;
      box-shadow: var(--fab-shadow) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      background: var(--blue) !important;
      color: #fff !important;
      border: none !important;
      cursor: pointer !important;
      transition: transform 0.2s ease, box-shadow 0.2s ease !important;
      z-index: 1000 !important;
    }
    #phone-mode-btn:hover,
    #guess-btn:hover {
      transform: translateY(-4px) !important;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35) !important;
    }
  
    /* Position FABs at safe corners */
    #guess-btn {
      left: var(--phone-gap) !important;
      bottom: var(--safe-bottom) !important;
    }
    #phone-mode-btn {
      right: var(--phone-gap) !important;
      bottom: var(--safe-bottom) !important;
    }
  
    /* ─── MAP CONTROLS WRAPPER ────────────────────────────────────────────────── */
    .map-controls-wrapper {
      width: var(--phone-map-width) !important;
      height: var(--phone-map-height) !important;
      right: var(--phone-map-offset-x) !important;
      bottom: var(--phone-map-offset-y) !important;
      transform: none !important;
      box-shadow: 0 4px 16px rgba(0,0,0,0.3) !important;
      border-radius: 12px !important;
      overflow: hidden !important;
    }
  
    /* ─── LEAFLET MAP HOVER EFFECT ───────────────────────────────────────────── */
    .leaflet-map {
      width: 100% !important;
      height: 100% !important;
      transition: transform 0.2s ease-in-out !important;
    }
    .leaflet-map:hover {
      transform: scale(1.1) !important;
    }
  
    /* ─── GAME HEADER & STATUS ───────────────────────────────────────────────── */
    .game-header {
      padding: 0.5rem 1rem !important;
      backdrop-filter: blur(6px) !important;
    }
    .game-header .title {
      font-size: var(--phone-header-font) !important;
    }
    .status, .timer {
      font-size: var(--phone-status-font) !important;
    }
  
    /* ─── LOADING & ENDGAME OVERLAY ─────────────────────────────────────────── */
    .loading-overlay,
    .endgame-overlay {
      inset: 0 !important;
      padding-top: calc(var(--phone-gap) * 2) !important;
      font-size: 1.1rem !important;
      background: rgba(0,0,0,0.85) !important;
    }
    .spinner {
      width: 36px !important;
      height: 36px !important;
      border-width: 4px !important;
    }
  
    /* ─── MODAL (GAME OVER) ───────────────────────────────────────────────────── */
    .modal {
      padding: 1.5rem !important;
      border-radius: 14px !important;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4) !important;
    }
    .modal .btn {
      padding: 0.75rem 1.5rem !important;
      font-size: 1.1rem !important;
    }
  }